# Лабораторная работа №3

---

  * Студент: `Краков Кирилл Константинович`
  * Группа: `P3331`
  * ИСУ: `368373`
  * Функциональный язык: `Elixir`

---

## Требования

Цель: получить навыки работы с вводом/выводом, потоковой обработкой данных, командной строкой.
В рамках лабораторной работы вам предлагается повторно реализовать лабораторную работу по предмету "Вычислительная математика" посвящённую интерполяции (в разные годы это лабораторная работа 3 или 4) со следующими дополнениями:

* обязательно должна быть реализована линейная интерполяция (отрезками, link);
* настройки алгоритма интерполяции и выводимых данных должны задаваться через аргументы командной строки:

  * какие алгоритмы использовать (в том числе два сразу);
  * частота дискретизации результирующих данных;
  * и т.п.;

* входные данные должны задаваться в текстовом формате на подобии ".csv" (к примеру x;y\n или x\ty\n) и подаваться на стандартный ввод, входные данные должны быть отсортированы по возрастанию x;
* выходные данные должны подаваться на стандартный вывод;
* программа должна работать в потоковом режиме (пример -- cat | grep 11), это значит, что при запуске программы она должна ожидать получения данных на стандартный ввод, и, по мере получения достаточного количества данных, должна выводить рассчитанные точки в стандартный вывод;

--- 

## Архитектура приложения

```
+----------------------------+
|Обработка входных аргументов|
|   (arguments_parser.ex)    |
+----------------------------+
              |
              | новая строка во входном потоке
              v
+---------------------------+
| Обработка входного потока |
|        (reader.ex)        |
+---------------------------+
              |
              | новая точка
              v
+---------------------------+        +---------------------------+
|   Оболочка интерполяции   |        | Генератор значений x, для |
|     (interpolator.ex)     |        |  которых осуществляется   |
|  и алгоритмы интерполяции |<-------|        интерполяция       |
|     (папка algorithms)    |        |    (модуль XsGenerator)   |
+---------------------------+        +---------------------------+
             |
             | Результаты интерполяций (последовательность точек)
             v
+---------------------------+
|  Печать выходных значений |
|       (printer.ex)        |
+---------------------------+    
```

--- 

## Примеры работы программы

Линейная интерполяция + Лагранж (по 4 известным точкам):

```
-> ...\functional_programming_lab_3> elixir lib/start.exs method1=linear method2=lagrange4 step=1
0 0
1.571 1

Результат:
Линейная интерполяция (идём от точки (0.0) с шагом 1)
0.0  1.0  2.0  
0.0  0.64  1.27  

3.142 0

Результат:
Линейная интерполяция (идём от точки (1.571) с шагом 1)
1.57  2.57  3.57
1.0  0.36  -0.27

4.712 -1

Результат:
Линейная интерполяция (идём от точки (3.142) с шагом 1)
3.14  4.14  5.14
0.0  -0.64  -1.27


Результат:
Интерполяция методом Лагранжа для 4 известных точек (идём от точки (0.0) с шагом 1)
0.0  1.0  2.0  3.0  4.0  5.0
0.0  0.97  0.84  0.12  -0.67  -1.03

12.568 0

Результат:
Линейная интерполяция (идём от точки (4.712) с шагом 1)
4.71  5.71  6.71  7.71  8.71  9.71  10.71  11.71  12.71
Результат:
Интерполяция методом Лагранжа для 4 известных точек (идём от точки (1.571) с шагом 1)
1.57  2.57  3.57  4.57  5.57  6.57  7.57  8.57  9.57  10.57  11.57  12.57
1.0  0.37  -0.28  -0.91  -1.49  -1.95  -2.26  -2.38  -2.25  -1.84  -1.11  0.0

exit
Окончание работы программы
```

Линейная интерполяция + Лагранж (по 3 известным точкам):

```
-> ...\functional_programming_lab_3> elixir lib/start.exs method1=linear method2=lagrange3 step=0.5
0 0
1.571 1

Результат:
Линейная интерполяция (идём от точки (0.0) с шагом 0.5)
0.0  0.5  1.0  1.5  2.0  
0.0  0.32  0.64  0.95  1.27  

3.142 0

Результат:
Линейная интерполяция (идём от точки (1.571) с шагом 0.5)
1.57  2.07  2.57  3.07  3.57  
1.0  0.68  0.36  0.05  -0.27  


Результат:
Интерполяция методом Лагранжа для 3 известных точек (идём от точки (0.0) с шагом 0.5)
0.0  0.5  1.0  1.5  2.0  2.5  3.0  3.5  
0.0  0.54  0.87  1.0  0.93  0.65  0.17  -0.51  

4.712 -1

Результат:
Линейная интерполяция (идём от точки (3.142) с шагом 0.5)
3.14  3.64  4.14  4.64  5.14  
0.0  -0.32  -0.64  -0.96  -1.27  


Результат:
Интерполяция методом Лагранжа для 3 известных точек (идём от точки (1.571) с шагом 0.5)
1.57  2.07  2.57  3.07  3.57  4.07  4.57  5.07
1.0  0.68  0.36  0.05  -0.27  -0.59  -0.91  -1.23

12.568 0

Результат:
Линейная интерполяция (идём от точки (4.712) с шагом 0.5)
4.71  5.21  5.71  6.21  6.71  7.21  7.71  8.21  8.71  9.21  9.71  10.21  10.71  11.21  11.71  12.21  12.71
-1.0  -0.94  -0.87  -0.81  -0.75  -0.68  -0.62  -0.55  -0.49  -0.43  -0.36  -0.3  -0.24  -0.17  -0.11  -0.05  0.02


Результат:
Интерполяция методом Лагранжа для 3 известных точек (идём от точки (3.142) с шагом 0.5)
3.14  3.64  4.14  4.64  5.14  5.64  6.14  6.64  7.14  7.64  8.14  8.64  9.14  9.64  10.14  10.64  11.14  11.64  12.14  12.64
0.0  -0.36  -0.68  -0.96  -1.2  -1.4  -1.56  -1.68  -1.76  -1.8  -1.79  -1.75  -1.67  -1.54  -1.38  -1.17  -0.92  -0.64  -0.31  0.06

exit
Окончание работы программы
```

Лагранж (по 4 известным точкам) + Ньютон (по 4 известным точкам):

```
-> ...\functional_programming_lab_3> elixir lib/start.exs method1=lagrange4 method2=newton step=0.75
0 0
1.571 1
3.142 0
4.712 -1

Результат:
Интерполяция методом Лагранжа для 4 известных точек (идём от точки (0.0) с шагом 0.75)
0.0  0.75  1.5  2.25  3.0  3.75  4.5  5.25  
0.0  0.85  1.01  0.7  0.12  -0.5  -0.94  -0.98  


Результат:
Интерполяция методом Ньютона для 4 известных точек (идём от точки (0.0) с шагом 0.75)
0.0  0.75  1.5  2.25  3.0  3.75  4.5  5.25  
0.0  0.85  1.01  0.7  0.12  -0.5  -0.94  -0.98  

12.568 0

Результат:
Интерполяция методом Лагранжа для 4 известных точек (идём от точки (1.571) с шагом 0.75)
1.57  2.32  3.07  3.82  4.57  5.32  6.07  6.82  7.57  8.32  9.07  9.82  10.57  11.32  12.07  12.82  
1.0  0.53  0.05  -0.44  -0.91  -1.35  -1.73  -2.04  -2.26  -2.37  -2.35  -2.18  -1.84  -1.32  -0.6  0.35  


Результат:
Интерполяция методом Ньютона для 4 известных точек (идём от точки (1.571) с шагом 0.75)
1.57  2.32  3.07  3.82  4.57  5.32  6.07  6.82  7.57  8.32  9.07  9.82  10.57  11.32  12.07  12.82  
1.0  0.53  0.05  -0.44  -0.91  -1.35  -1.73  -2.04  -2.26  -2.37  -2.35  -2.18  -1.84  -1.32  -0.6  0.35  

exit
Окончание работы программы
```

## Вывод

В рамках выполнения данной лабораторной работы я поработал с вводом и выводом в Elixir. Научился реализовывать серверные процессы, а также использовать механизм сообщений для взаимодействия между процессами 
